MÃ³dulo de GestiÃ³n de Biblioteca (Odoo 16)
Este mÃ³dulo personalizado para Odoo 16 permite la gestiÃ³n integral de una biblioteca, permitiendo administrar libros, autores, gÃ©neros y el ciclo de vida de los prÃ©stamos a socios.

ğŸ›¡ï¸ Seguridad y Roles de UsuarioEste mÃ³dulo implementa un control de acceso basado en grupos (RBAC). Los permisos estÃ¡n divididos en dos niveles de acceso dentro de la categorÃ­a Biblioteca.

ğŸ‘¥ Grupos Disponibles:
Usuario Biblioteca - Create, Read, Update
Administrador Biblioteca - Create, Read, Update, Delete

âš™ï¸ CÃ³mo asignar permisos a un usuario.

Para asignar estos roles a un usuario en Odoo, sigue estos pasos:

1.- Activar el Modo Desarrollador: Ve a Ajustes y haz clic en "Activar modo desarrollador".
2.- Acceder a Usuarios: DirÃ­gete a Ajustes > Usuarios y compaÃ±Ã­as > Usuarios.
3.- Seleccionar Usuario: Abre la ficha del usuario al que deseas dar acceso.
4.- Localizar SecciÃ³n Biblioteca: En la pestaÃ±a Permisos, busca el apartado titulado Biblioteca.
5.- Seleccionar Nivel: Elige entre Usuario Biblioteca o Administrador Biblioteca en el menÃº desplegable.
6.- Guardar: Haz clic en el botÃ³n de guardar. El usuario deberÃ¡ refrescar el navegador para ver los nuevos menÃºs.

ğŸ“„ Resumen TÃ©cnico de Accesos (ir.model.access)Los permisos definidos en el archivo ir.model.access.csv aseguran la integridad de los datos impidiendo el borrado accidental por parte de los usuarios:Modelos afectados: Autor, Libro, GÃ©nero y PrÃ©stamo.RestricciÃ³n CrÃ­tica: El permiso de Unlink (perm_unlink) estÃ¡ configurado en 0 para el grupo group_biblioteca_user en todos los modelos, garantizando que solo los administradores puedan eliminar registros del sistema.

ğŸš€ CaracterÃ­sticas Principales
GestiÃ³n de CatÃ¡logo: Control detallado de libros (ISBN, editorial, aÃ±o de publicaciÃ³n) con estados dinÃ¡micos (Disponible, Prestado, ReparaciÃ³n, Perdido).

RelaciÃ³n Avanzada Autor-Libro: Soporte para mÃºltiples autores por libro con designaciÃ³n de Autor Principal y orden de apariciÃ³n.

Sistema de PrÃ©stamos: Registro de prÃ©stamos vinculado a los contactos de Odoo (res.partner), con cÃ¡lculo automÃ¡tico de fechas de devoluciÃ³n y control de estados.

ClasificaciÃ³n por GÃ©neros: CategorizaciÃ³n mediante etiquetas de colores y normalizaciÃ³n automÃ¡tica de nombres (conversiÃ³n a mayÃºsculas).

IntegraciÃ³n con Contactos: ExtensiÃ³n del modelo nativo de Odoo para identificar y gestionar socios de la biblioteca.

ğŸ› ï¸ Estructura de Datos:

<details>
  <summary><b>ğŸ“‚ Ver estructura del proyecto (clic para desplegar)</b></summary>

```text
biblioteca/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ __init__.py
â”œâ”€â”€ __manifest__.py
â”œâ”€â”€ README.MD
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ controllers.py
â”œâ”€â”€ data/
â”‚   â””â”€â”€ cron.xml
â”œâ”€â”€ documentacion/
â”‚   â”œâ”€â”€ Diag-ENT-REL.html
â”‚   â””â”€â”€ Diag-ENT-REL.pdf
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ autor.py
â”‚   â”œâ”€â”€ autor_libro.py
â”‚   â”œâ”€â”€ genero.py
â”‚   â”œâ”€â”€ libro.py
â”‚   â”œâ”€â”€ prestamo.py
â”‚   â””â”€â”€ res_partner.py
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ autor.xml
â”‚   â”œâ”€â”€ autor_libro.xml
â”‚   â”œâ”€â”€ genero.xml
â”‚   â”œâ”€â”€ libro.xml
â”‚   â”œâ”€â”€ prestamo.xml
â”‚   â”œâ”€â”€ res_partner.xml
â”‚   â””â”€â”€ secuencia_data.xml
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ ir.model.access.csv
â”‚   â””â”€â”€ security.xml
â””â”€â”€ static/
    â””â”€â”€ description/
        â””â”€â”€ icon.png
```

</details>

El mÃ³dulo se basa en los siguientes modelos tÃ©cnicos:

ğŸ“š Libros y Autores
biblioteca.libro: Almacena la informaciÃ³n tÃ©cnica y fÃ­sica de los ejemplares.

biblioteca.autor: Directorio de autores con biografÃ­a y fotografÃ­a.

biblioteca.autor_libro: Modelo intermedio para gestionar la relaciÃ³n compleja entre autores y libros, permitiendo definir quiÃ©n es el autor principal.

ğŸ·ï¸ CategorizaciÃ³n y PrÃ©stamos
biblioteca.genero: TaxonomÃ­a de libros con validaciones de unicidad y formato.

biblioteca.prestamo: Registro de movimientos de salida y entrada de libros.

res.partner (ExtensiÃ³n): Se aÃ±ade el campo es_socio_biblioteca para habilitar a los contactos como usuarios de la biblioteca.

âš™ï¸ Validaciones y LÃ³gica de Negocio
El mÃ³dulo incluye lÃ³gica automatizada para garantizar la integridad de los datos:

ValidaciÃ³n de Fechas: No se permite que el aÃ±o de publicaciÃ³n o la fecha de adquisiciÃ³n sean posteriores a la fecha actual.

NormalizaciÃ³n de GÃ©neros: Los nombres de los gÃ©neros se convierten automÃ¡ticamente a MAYÃšSCULAS mediante api.onchange y overrides en los mÃ©todos create y write.

Reglas de Unicidad (SQL Constraints):

ISBN Ãºnico por libro.

Nombre de gÃ©nero Ãºnico.

Evita la duplicidad de un mismo autor en un mismo libro.

CÃ¡lculo de Fechas: El sistema sugiere automÃ¡ticamente una fecha de devoluciÃ³n prevista (15 dÃ­as por defecto).

ğŸ“‹ Requisitos e InstalaciÃ³n
Dependencias
Este mÃ³dulo es independiente, aunque extiende el modelo base:

base (Odoo Standard)

InstalaciÃ³n
Copia la carpeta del mÃ³dulo en tu directorio de custom-addons.

Actualiza la lista de aplicaciones en el modo desarrollador de Odoo.

Busca "Biblioteca" e instÃ¡lalo.

ğŸ“ Notas de Desarrollo
VersiÃ³n de Odoo: 16.0


Seguridad: Se han implementado dominios en los campos de bÃºsqueda (ej. solo libros "disponibles" pueden ser seleccionados en nuevos prÃ©stamos).

ğŸ–¥ï¸ Interfaz de Usuario y Experiencia (UX)
El mÃ³dulo explota las capacidades visuales de Odoo 16 para ofrecer una gestiÃ³n intuitiva y moderna:

ğŸ´ Vista Kanban (Libros)
Se ha implementado una vista Kanban rica visualmente para el catÃ¡logo de libros que incluye:

Tarjetas dinÃ¡micas: Muestran la portada del libro, editorial e ISBN.

Badges de Estado: Etiquetas de colores (Bootstrap) que cambian segÃºn el estado del libro (Verde para disponible, Azul para prestado, Naranja para reparaciÃ³n y Rojo para perdido).

OptimizaciÃ³n Mobile: DiseÃ±o adaptativo para dispositivos mÃ³viles mediante la clase o_kanban_mobile.

ğŸ“„ Vistas de Formulario Avanzadas
Los formularios utilizan elementos de organizaciÃ³n complejos para mejorar la carga de datos:

Uso de Avatares: Tanto en Libros como en Autores, se utiliza el widget image con la clase oe_avatar para una gestiÃ³n visual de portadas y fotografÃ­as.

OrganizaciÃ³n en Notebooks: La informaciÃ³n se divide en pestaÃ±as (InformaciÃ³n General, Autores, HistÃ³rico) para no saturar la vista principal.

Modelos Intermedios: En la pestaÃ±a de autores, se permite gestionar el orden de los autores mediante un widget de arrastre (handle) y marcar la autorÃ­a principal directamente desde la ficha del libro.

ğŸ“Š Componentes y Widgets TÃ©cnicos
Widget Badge: En las vistas de lista (Tree), el estado del libro utiliza widget="badge" con decoraciones condicionales (decoration-success, decoration-danger, etc.).

Color Picker: El modelo de GÃ©neros integra un selector de colores (widget="color_picker") para categorizar visualmente las etiquetas.

Many2Many Tags: Los gÃ©neros se visualizan en el libro como etiquetas compactas para ahorrar espacio.

ğŸ” Potencia de BÃºsqueda
La vista de bÃºsqueda (search) permite una segmentaciÃ³n profunda:

Filtros por Estado: Acceso con un solo clic a libros disponibles, prestados, en reparaciÃ³n o perdidos.

AgrupaciÃ³n DinÃ¡mica: Capacidad de reorganizar la lista completa de libros por su Estado de forma automÃ¡tica.

ğŸ”„ GestiÃ³n de PrÃ©stamos (Flujo de Trabajo)
La vista de PrÃ©stamos es el centro operativo del mÃ³dulo y destaca por:

Barra de Ciclo de Vida (statusbar): ImplementaciÃ³n de una barra de estados interactiva (Activo, Retrasado, Devuelto) que permite visualizar y cambiar el progreso del prÃ©stamo.

Botones de AcciÃ³n Inteligentes:

DevoluciÃ³n Libro: BotÃ³n destacado (btn-success) para finalizar el prÃ©stamo.

RenovaciÃ³n DinÃ¡mica: BotÃ³n para extender la fecha de entrega 15 dÃ­as automÃ¡ticamente.

Control de Visibilidad (attrs): Los botones aparecen o desaparecen dinÃ¡micamente segÃºn el estado (ej. el botÃ³n de devoluciÃ³n se oculta si el libro ya ha sido devuelto).

Cabecera Informativa: Uso de contenedores Flexbox para mostrar de forma clara la Referencia, Fecha de Entrega y nÃºmero de Renovaciones en la parte superior del formulario.

ğŸ‘¥ IntegraciÃ³n y Herencia (Socios)
El mÃ³dulo no crea un modelo de contactos desde cero, sino que extiende el ecosistema nativo de Odoo:

Herencia de Vistas (res.partner): Se inyectan campos personalizados en las vistas estÃ¡ndar de Odoo mediante xpath.

Widget boolean_toggle: ImplementaciÃ³n de interruptores modernos para marcar a un contacto como "Socio de Biblioteca" de forma rÃ¡pida desde la vista de lista o formulario.

HistÃ³rico Integrado: Se ha aÃ±adido una pestaÃ±a (Page) adicional en la ficha del contacto que muestra todos sus prÃ©stamos pasados y presentes, centralizando la informaciÃ³n del socio.

ğŸ” Vistas de BÃºsqueda Avanzada
Filtros de PrÃ©stamos: SegmentaciÃ³n por prÃ©stamos con retraso o devueltos.

AgrupaciÃ³n por Socio: Permite a los bibliotecarios ver rÃ¡pidamente cuÃ¡ntos libros tiene cada socio bajo su responsabilidad.

Contextos Predeterminados: La acciÃ³n de "Socios" estÃ¡ configurada para mostrar por defecto solo a los contactos que tienen activado el check de biblioteca (search_default_es_socio_biblioteca_filter).

ğŸ› ï¸ Aspectos TÃ©cnicos Destacados
Herencia de Modelos y Vistas: Uso de _inherit para ampliar res.partner sin romper la compatibilidad con otros mÃ³dulos de Odoo (Ventas, FacturaciÃ³n, etc.).

Vistas DinÃ¡micas: Uso extensivo de atributos readonly y invisible basados en estados para evitar errores de usuario.

NormalizaciÃ³n de Datos: Los nombres de los gÃ©neros se limpian y pasan a mayÃºsculas automÃ¡ticamente antes de guardarse.

ğŸ” Integridad de Estados
El sistema incluye controles de flujo de estados para evitar inconsistencias fÃ­sicas:

RestricciÃ³n de Libros en Uso: Un libro con estado Prestado tiene bloqueada la transiciÃ³n a ReparaciÃ³n o Perdido. Esta validaciÃ³n garantiza que no se pierda la trazabilidad de un prÃ©stamo activo, obligando a procesar la devoluciÃ³n antes de cambiar la ubicaciÃ³n fÃ­sica o estado del ejemplar.

ğŸ“ GitHub de la aplicaciÃ³n: 
https://github.com/rafaelgor-1978/biblioteca-odoo16


