M√≥dulo de Gesti√≥n de Biblioteca (Odoo 16)
Este m√≥dulo personalizado para Odoo 16 permite la gesti√≥n integral de una biblioteca, permitiendo administrar libros, autores, g√©neros y el ciclo de vida de los pr√©stamos a socios.

üöÄ Caracter√≠sticas Principales
Gesti√≥n de Cat√°logo: Control detallado de libros (ISBN, editorial, a√±o de publicaci√≥n) con estados din√°micos (Disponible, Prestado, Reparaci√≥n, Perdido).

Relaci√≥n Avanzada Autor-Libro: Soporte para m√∫ltiples autores por libro con designaci√≥n de Autor Principal y orden de aparici√≥n.

Sistema de Pr√©stamos: Registro de pr√©stamos vinculado a los contactos de Odoo (res.partner), con c√°lculo autom√°tico de fechas de devoluci√≥n y control de estados.

Clasificaci√≥n por G√©neros: Categorizaci√≥n mediante etiquetas de colores y normalizaci√≥n autom√°tica de nombres (conversi√≥n a may√∫sculas).

Integraci√≥n con Contactos: Extensi√≥n del modelo nativo de Odoo para identificar y gestionar socios de la biblioteca.

üõ†Ô∏è Estructura de Datos
El m√≥dulo se basa en los siguientes modelos t√©cnicos:

üìö Libros y Autores
biblioteca.libro: Almacena la informaci√≥n t√©cnica y f√≠sica de los ejemplares.

biblioteca.autor: Directorio de autores con biograf√≠a y fotograf√≠a.

biblioteca.autor_libro: Modelo intermedio para gestionar la relaci√≥n compleja entre autores y libros, permitiendo definir qui√©n es el autor principal.

üè∑Ô∏è Categorizaci√≥n y Pr√©stamos
biblioteca.genero: Taxonom√≠a de libros con validaciones de unicidad y formato.

biblioteca.prestamo: Registro de movimientos de salida y entrada de libros.

res.partner (Extensi√≥n): Se a√±ade el campo es_socio_biblioteca para habilitar a los contactos como usuarios de la biblioteca.

‚öôÔ∏è Validaciones y L√≥gica de Negocio
El m√≥dulo incluye l√≥gica automatizada para garantizar la integridad de los datos:

Validaci√≥n de Fechas: No se permite que el a√±o de publicaci√≥n o la fecha de adquisici√≥n sean posteriores a la fecha actual.

Normalizaci√≥n de G√©neros: Los nombres de los g√©neros se convierten autom√°ticamente a MAY√öSCULAS mediante api.onchange y overrides en los m√©todos create y write.

Reglas de Unicidad (SQL Constraints):

ISBN √∫nico por libro.

Nombre de g√©nero √∫nico.

Evita la duplicidad de un mismo autor en un mismo libro.

C√°lculo de Fechas: El sistema sugiere autom√°ticamente una fecha de devoluci√≥n prevista (15 d√≠as por defecto).

üìã Requisitos e Instalaci√≥n
Dependencias
Este m√≥dulo es independiente, aunque extiende el modelo base:

base (Odoo Standard)

Instalaci√≥n
Copia la carpeta del m√≥dulo en tu directorio de custom-addons.

Actualiza la lista de aplicaciones en el modo desarrollador de Odoo.

Busca "Biblioteca" e inst√°lalo.

üìù Notas de Desarrollo
Versi√≥n de Odoo: 16.0

Campo M√°gico: Se utiliza el campo color en g√©neros para compatibilidad con vistas Kanban y etiquetas de color.

Seguridad: Se han implementado dominios en los campos de b√∫squeda (ej. solo libros "disponibles" pueden ser seleccionados en nuevos pr√©stamos).

üñ•Ô∏è Interfaz de Usuario y Experiencia (UX)
El m√≥dulo explota las capacidades visuales de Odoo 16 para ofrecer una gesti√≥n intuitiva y moderna:

üé¥ Vista Kanban (Libros)
Se ha implementado una vista Kanban rica visualmente para el cat√°logo de libros que incluye:

Tarjetas din√°micas: Muestran la portada del libro, editorial e ISBN.

Badges de Estado: Etiquetas de colores (Bootstrap) que cambian seg√∫n el estado del libro (Verde para disponible, Azul para prestado, Naranja para reparaci√≥n y Rojo para perdido).

Optimizaci√≥n Mobile: Dise√±o adaptativo para dispositivos m√≥viles mediante la clase o_kanban_mobile.

üìÑ Vistas de Formulario Avanzadas
Los formularios utilizan elementos de organizaci√≥n complejos para mejorar la carga de datos:

Uso de Avatares: Tanto en Libros como en Autores, se utiliza el widget image con la clase oe_avatar para una gesti√≥n visual de portadas y fotograf√≠as.

Organizaci√≥n en Notebooks: La informaci√≥n se divide en pesta√±as (Informaci√≥n General, Autores, Hist√≥rico) para no saturar la vista principal.

Modelos Intermedios: En la pesta√±a de autores, se permite gestionar el orden de los autores mediante un widget de arrastre (handle) y marcar la autor√≠a principal directamente desde la ficha del libro.

üìä Componentes y Widgets T√©cnicos
Widget Badge: En las vistas de lista (Tree), el estado del libro utiliza widget="badge" con decoraciones condicionales (decoration-success, decoration-danger, etc.).

Color Picker: El modelo de G√©neros integra un selector de colores (widget="color_picker") para categorizar visualmente las etiquetas.

Many2Many Tags: Los g√©neros se visualizan en el libro como etiquetas compactas para ahorrar espacio.

üîç Potencia de B√∫squeda
La vista de b√∫squeda (search) permite una segmentaci√≥n profunda:

Filtros por Estado: Acceso con un solo clic a libros disponibles, prestados, en reparaci√≥n o perdidos.

Agrupaci√≥n Din√°mica: Capacidad de reorganizar la lista completa de libros por su Estado de forma autom√°tica.

üîÑ Gesti√≥n de Pr√©stamos (Flujo de Trabajo)
La vista de Pr√©stamos es el centro operativo del m√≥dulo y destaca por:

Barra de Ciclo de Vida (statusbar): Implementaci√≥n de una barra de estados interactiva (Activo, Retrasado, Devuelto) que permite visualizar y cambiar el progreso del pr√©stamo.

Botones de Acci√≥n Inteligentes:

Devoluci√≥n Libro: Bot√≥n destacado (btn-success) para finalizar el pr√©stamo.

Renovaci√≥n Din√°mica: Bot√≥n para extender la fecha de entrega 15 d√≠as autom√°ticamente.

Control de Visibilidad (attrs): Los botones aparecen o desaparecen din√°micamente seg√∫n el estado (ej. el bot√≥n de devoluci√≥n se oculta si el libro ya ha sido devuelto).

Cabecera Informativa: Uso de contenedores Flexbox para mostrar de forma clara la Referencia, Fecha de Entrega y n√∫mero de Renovaciones en la parte superior del formulario.

üë• Integraci√≥n y Herencia (Socios)
El m√≥dulo no crea un modelo de contactos desde cero, sino que extiende el ecosistema nativo de Odoo:

Herencia de Vistas (res.partner): Se inyectan campos personalizados en las vistas est√°ndar de Odoo mediante xpath.

Widget boolean_toggle: Implementaci√≥n de interruptores modernos para marcar a un contacto como "Socio de Biblioteca" de forma r√°pida desde la vista de lista o formulario.

Hist√≥rico Integrado: Se ha a√±adido una pesta√±a (Page) adicional en la ficha del contacto que muestra todos sus pr√©stamos pasados y presentes, centralizando la informaci√≥n del socio.

üîç Vistas de B√∫squeda Avanzada
Filtros de Pr√©stamos: Segmentaci√≥n por pr√©stamos con retraso o devueltos.

Agrupaci√≥n por Socio: Permite a los bibliotecarios ver r√°pidamente cu√°ntos libros tiene cada socio bajo su responsabilidad.

Contextos Predeterminados: La acci√≥n de "Socios" est√° configurada para mostrar por defecto solo a los contactos que tienen activado el check de biblioteca (search_default_es_socio_biblioteca_filter).

üõ†Ô∏è Aspectos T√©cnicos Destacados
Herencia de Modelos y Vistas: Uso de _inherit para ampliar res.partner sin romper la compatibilidad con otros m√≥dulos de Odoo (Ventas, Facturaci√≥n, etc.).

Vistas Din√°micas: Uso extensivo de atributos readonly y invisible basados en estados para evitar errores de usuario.

Normalizaci√≥n de Datos: Los nombres de los g√©neros se limpian y pasan a may√∫sculas autom√°ticamente antes de guardarse.